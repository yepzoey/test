import"../chunks/Bg9kRutz.js";import"../chunks/69_IOA4Y.js";import{e as be,D as Cn,aq as $e,ar as ke,M as nt,N as et,O as U,g as R,am as ct,a0 as ft,L as Ae,G as En,h as Me,ap as cr,K as Bn,n as fr,as as hr}from"../chunks/Bm0FhLEK.js";import{t as Mt,a as wt}from"../chunks/BQPxy4xd.js";import{b as dr,p as Ht,i as pr}from"../chunks/F2zvKX18.js";import{l as gr}from"../chunks/CHZwxh0T.js";import{i as Tn}from"../chunks/CMB7kT7n.js";import{o as Ne}from"../chunks/eP3un58F.js";/* empty css                */import{s as mr}from"../chunks/C92lvqdm.js";import{b as Vt}from"../chunks/Cy-pn9s0.js";function Se(t,n,e){if(t.multiple)return _r(t,n);for(var r of t.options){var i=xt(r);if(dr(i,n)){r.selected=!0;return}}(!e||n!==void 0)&&(t.selectedIndex=-1)}function yr(t,n){be(()=>{var e=new MutationObserver(()=>{var r=t.__value;Se(t,r)});return e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{e.disconnect()}})}function vr(t,n,e=n){var r=!0;gr(t,"change",i=>{var a=i?"[selected]":":checked",o;if(t.multiple)o=[].map.call(t.querySelectorAll(a),xt);else{var s=t.querySelector(a)??t.querySelector("option:not([disabled])");o=s&&xt(s)}e(o)}),be(()=>{var i=n();if(Se(t,i,r),r&&i===void 0){var a=t.querySelector(":checked");a!==null&&(i=xt(a),e(i))}t.__value=i,r=!1}),yr(t)}function _r(t,n){for(var e of t.options)e.selected=~n.indexOf(xt(e))}function xt(t){return"__value"in t?t.__value:t.value}function Dt(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function wr(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Ce(t){let n,e,r;t.length!==2?(n=Dt,e=(s,l)=>Dt(t(s),l),r=(s,l)=>t(s)-l):(n=t===Dt||t===wr?t:xr,e=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(n(l,l)!==0)return c;do{const h=u+c>>>1;e(s[h],l)<0?u=h+1:c=h}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(n(l,l)!==0)return c;do{const h=u+c>>>1;e(s[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function o(s,l,u=0,c=s.length){const h=i(s,l,u,c-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:o,right:a}}function xr(){return 0}function br(t){return t===null?NaN:+t}const $r=Ce(Dt),kr=$r.right;Ce(br).center;class Yn extends Map{constructor(n,e=Nr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(Un(this,n))}has(n){return super.has(Un(this,n))}set(n,e){return super.set(Ar(this,n),e)}delete(n){return super.delete(Mr(this,n))}}function Un({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Ar({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Mr({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Nr(t){return t!==null&&typeof t=="object"?t.valueOf():t}const Sr=Math.sqrt(50),Cr=Math.sqrt(10),Er=Math.sqrt(2);function Bt(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Sr?10:a>=Cr?5:a>=Er?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(n*u),s/u<t&&++s,l/u>n&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(n/u),s*u<t&&++s,l*u>n&&--l),l<s&&.5<=e&&e<2?Bt(t,n,e*2):[s,l,u]}function Tr(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,a,o]=r?Bt(n,t,e):Bt(t,n,e);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function yn(t,n,e){return n=+n,t=+t,e=+e,Bt(t,n,e)[2]}function Rr(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?yn(n,t,e):yn(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function Pr(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function Ir(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,a=new Array(i);++r<i;)a[r]=t+r*e;return a}function Fr(t,n){let e=0;for(let r of t)(r=+r)&&(e+=r);return e}function qr(t){return t}var hn=1,dn=2,vn=3,mt=4,Gn=1e-6;function Dr(t){return"translate("+t+",0)"}function Or(t){return"translate(0,"+t+")"}function zr(t){return n=>+t(n)}function Lr(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function Xr(){return!this.__axis}function Ee(t,n){var e=[],r=null,i=null,a=6,o=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===hn||t===mt?-1:1,c=t===mt||t===dn?"x":"y",h=t===hn||t===vn?Dr:Or;function f(d){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),m=i??(n.tickFormat?n.tickFormat.apply(n,e):qr),_=Math.max(a,0)+s,v=n.range(),k=+v[0]+l,x=+v[v.length-1]+l,M=(n.bandwidth?Lr:zr)(n.copy(),l),$=d.selection?d.selection():d,N=$.selectAll(".domain").data([null]),S=$.selectAll(".tick").data(p,n).order(),T=S.exit(),C=S.enter().append("g").attr("class","tick"),w=S.select("line"),y=S.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(C),w=w.merge(C.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),y=y.merge(C.append("text").attr("fill","currentColor").attr(c,u*_).attr("dy",t===hn?"0em":t===vn?"0.71em":"0.32em")),d!==$&&(N=N.transition(d),S=S.transition(d),w=w.transition(d),y=y.transition(d),T=T.transition(d).attr("opacity",Gn).attr("transform",function(b){return isFinite(b=M(b))?h(b+l):this.getAttribute("transform")}),C.attr("opacity",Gn).attr("transform",function(b){var g=this.parentNode.__axis;return h((g&&isFinite(g=g(b))?g:M(b))+l)})),T.remove(),N.attr("d",t===mt||t===dn?o?"M"+u*o+","+k+"H"+l+"V"+x+"H"+u*o:"M"+l+","+k+"V"+x:o?"M"+k+","+u*o+"V"+l+"H"+x+"V"+u*o:"M"+k+","+l+"H"+x),S.attr("opacity",1).attr("transform",function(b){return h(M(b)+l)}),w.attr(c+"2",u*a),y.attr(c,u*_).text(m),$.filter(Xr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===dn?"start":t===mt?"end":"middle"),$.each(function(){this.__axis=M})}return f.scale=function(d){return arguments.length?(n=d,f):n},f.ticks=function(){return e=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),f):e.slice()},f.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),f):r&&r.slice()},f.tickFormat=function(d){return arguments.length?(i=d,f):i},f.tickSize=function(d){return arguments.length?(a=o=+d,f):a},f.tickSizeInner=function(d){return arguments.length?(a=+d,f):a},f.tickSizeOuter=function(d){return arguments.length?(o=+d,f):o},f.tickPadding=function(d){return arguments.length?(s=+d,f):s},f.offset=function(d){return arguments.length?(l=+d,f):l},f}function Hr(t){return Ee(vn,t)}function Vr(t){return Ee(mt,t)}var Br={value:()=>{}};function Te(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Ot(e)}function Ot(t){this._=t}function Yr(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Ot.prototype=Te.prototype={constructor:Ot,on:function(t,n){var e=this._,r=Yr(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=Ur(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(t=r[a]).type)e[i]=Kn(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Kn(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Ot(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function Ur(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Kn(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Br,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var _n="http://www.w3.org/1999/xhtml";const Wn={svg:"http://www.w3.org/2000/svg",xhtml:_n,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nn(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Wn.hasOwnProperty(n)?{space:Wn[n],local:t}:t}function Gr(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===_n&&n.documentElement.namespaceURI===_n?n.createElement(t):n.createElementNS(e,t)}}function Kr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Re(t){var n=nn(t);return(n.local?Kr:Gr)(n)}function Wr(){}function Rn(t){return t==null?Wr:function(){return this.querySelector(t)}}function Zr(t){typeof t!="function"&&(t=Rn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=a[c])&&(u=t.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new D(r,this._parents)}function Qr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Jr(){return[]}function Pe(t){return t==null?Jr:function(){return this.querySelectorAll(t)}}function jr(t){return function(){return Qr(t.apply(this,arguments))}}function ti(t){typeof t=="function"?t=jr(t):t=Pe(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o=n[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new D(r,i)}function Ie(t){return function(){return this.matches(t)}}function Fe(t){return function(n){return n.matches(t)}}var ni=Array.prototype.find;function ei(t){return function(){return ni.call(this.children,t)}}function ri(){return this.firstElementChild}function ii(t){return this.select(t==null?ri:ei(typeof t=="function"?t:Fe(t)))}var ai=Array.prototype.filter;function oi(){return Array.from(this.children)}function si(t){return function(){return ai.call(this.children,t)}}function ui(t){return this.selectAll(t==null?oi:si(typeof t=="function"?t:Fe(t)))}function li(t){typeof t!="function"&&(t=Ie(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new D(r,this._parents)}function qe(t){return new Array(t.length)}function ci(){return new D(this._enter||this._groups.map(qe),this._parents)}function Yt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Yt.prototype={constructor:Yt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function fi(t){return function(){return t}}function hi(t,n,e,r,i,a){for(var o=0,s,l=n.length,u=a.length;o<u;++o)(s=n[o])?(s.__data__=a[o],r[o]=s):e[o]=new Yt(t,a[o]);for(;o<l;++o)(s=n[o])&&(i[o]=s)}function di(t,n,e,r,i,a,o){var s,l,u=new Map,c=n.length,h=a.length,f=new Array(c),d;for(s=0;s<c;++s)(l=n[s])&&(f[s]=d=o.call(l,l.__data__,s,n)+"",u.has(d)?i[s]=l:u.set(d,l));for(s=0;s<h;++s)d=o.call(t,a[s],s,a)+"",(l=u.get(d))?(r[s]=l,l.__data__=a[s],u.delete(d)):e[s]=new Yt(t,a[s]);for(s=0;s<c;++s)(l=n[s])&&u.get(f[s])===l&&(i[s]=l)}function pi(t){return t.__data__}function gi(t,n){if(!arguments.length)return Array.from(this,pi);var e=n?di:hi,r=this._parents,i=this._groups;typeof t!="function"&&(t=fi(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],h=i[u],f=h.length,d=mi(t.call(c,c&&c.__data__,u,r)),p=d.length,m=s[u]=new Array(p),_=o[u]=new Array(p),v=l[u]=new Array(f);e(c,h,m,_,v,d,n);for(var k=0,x=0,M,$;k<p;++k)if(M=m[k]){for(k>=x&&(x=k+1);!($=_[x])&&++x<p;);M._next=$||null}}return o=new D(o,r),o._enter=s,o._exit=l,o}function mi(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function yi(){return new D(this._exit||this._groups.map(qe),this._parents)}function vi(t,n,e){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?a.remove():e(a),r&&i?r.merge(i).order():i}function _i(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u=e[l],c=r[l],h=u.length,f=s[l]=new Array(h),d,p=0;p<h;++p)(d=u[p]||c[p])&&(f[p]=d);for(;l<i;++l)s[l]=e[l];return new D(s,this._parents)}function wi(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function xi(t){t||(t=bi);function n(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],s=o.length,l=i[a]=new Array(s),u,c=0;c<s;++c)(u=o[c])&&(l[c]=u);l.sort(n)}return new D(i,this._parents).order()}function bi(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function $i(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ki(){return Array.from(this)}function Ai(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Mi(){let t=0;for(const n of this)++t;return t}function Ni(){return!this.node()}function Si(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function Ci(t){return function(){this.removeAttribute(t)}}function Ei(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ti(t,n){return function(){this.setAttribute(t,n)}}function Ri(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Pi(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Ii(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Fi(t,n){var e=nn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Ei:Ci:typeof n=="function"?e.local?Ii:Pi:e.local?Ri:Ti)(e,n))}function De(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function qi(t){return function(){this.style.removeProperty(t)}}function Di(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Oi(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function zi(t,n,e){return arguments.length>1?this.each((n==null?qi:typeof n=="function"?Oi:Di)(t,n,e??"")):ht(this.node(),t)}function ht(t,n){return t.style.getPropertyValue(n)||De(t).getComputedStyle(t,null).getPropertyValue(n)}function Li(t){return function(){delete this[t]}}function Xi(t,n){return function(){this[t]=n}}function Hi(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Vi(t,n){return arguments.length>1?this.each((n==null?Li:typeof n=="function"?Hi:Xi)(t,n)):this.node()[t]}function Oe(t){return t.trim().split(/^|\s+/)}function Pn(t){return t.classList||new ze(t)}function ze(t){this._node=t,this._names=Oe(t.getAttribute("class")||"")}ze.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Le(t,n){for(var e=Pn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Xe(t,n){for(var e=Pn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Bi(t){return function(){Le(this,t)}}function Yi(t){return function(){Xe(this,t)}}function Ui(t,n){return function(){(n.apply(this,arguments)?Le:Xe)(this,t)}}function Gi(t,n){var e=Oe(t+"");if(arguments.length<2){for(var r=Pn(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Ui:n?Bi:Yi)(e,n))}function Ki(){this.textContent=""}function Wi(t){return function(){this.textContent=t}}function Zi(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Qi(t){return arguments.length?this.each(t==null?Ki:(typeof t=="function"?Zi:Wi)(t)):this.node().textContent}function Ji(){this.innerHTML=""}function ji(t){return function(){this.innerHTML=t}}function ta(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function na(t){return arguments.length?this.each(t==null?Ji:(typeof t=="function"?ta:ji)(t)):this.node().innerHTML}function ea(){this.nextSibling&&this.parentNode.appendChild(this)}function ra(){return this.each(ea)}function ia(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function aa(){return this.each(ia)}function oa(t){var n=typeof t=="function"?t:Re(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function sa(){return null}function ua(t,n){var e=typeof t=="function"?t:Re(t),r=n==null?sa:typeof n=="function"?n:Rn(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function la(){var t=this.parentNode;t&&t.removeChild(this)}function ca(){return this.each(la)}function fa(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ha(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function da(t){return this.select(t?ha:fa)}function pa(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ga(t){return function(n){t.call(this,n,this.__data__)}}function ma(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function ya(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,a;e<i;++e)a=n[e],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):n[++r]=a;++r?n.length=r:delete this.__on}}}function va(t,n,e){return function(){var r=this.__on,i,a=ga(n);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=e),i.value=n;return}}this.addEventListener(t.type,a,e),i={type:t.type,name:t.name,value:n,listener:a,options:e},r?r.push(i):this.__on=[i]}}function _a(t,n,e){var r=ma(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=n?va:ya,i=0;i<a;++i)this.each(s(r[i],n,e));return this}function He(t,n,e){var r=De(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function wa(t,n){return function(){return He(this,t,n)}}function xa(t,n){return function(){return He(this,t,n.apply(this,arguments))}}function ba(t,n){return this.each((typeof n=="function"?xa:wa)(t,n))}function*$a(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Ve=[null];function D(t,n){this._groups=t,this._parents=n}function Nt(){return new D([[document.documentElement]],Ve)}function ka(){return this}D.prototype=Nt.prototype={constructor:D,select:Zr,selectAll:ti,selectChild:ii,selectChildren:ui,filter:li,data:gi,enter:ci,exit:yi,join:vi,merge:_i,selection:ka,order:wi,sort:xi,call:$i,nodes:ki,node:Ai,size:Mi,empty:Ni,each:Si,attr:Fi,style:zi,property:Vi,classed:Gi,text:Qi,html:na,raise:ra,lower:aa,append:oa,insert:ua,remove:ca,clone:da,datum:pa,on:_a,dispatch:ba,[Symbol.iterator]:$a};function O(t){return typeof t=="string"?new D([[document.querySelector(t)]],[document.documentElement]):new D([[t]],Ve)}function In(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Be(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function St(){}var bt=.7,Ut=1/bt,lt="\\s*([+-]?\\d+)\\s*",$t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",G="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Aa=/^#([0-9a-f]{3,8})$/,Ma=new RegExp(`^rgb\\(${lt},${lt},${lt}\\)$`),Na=new RegExp(`^rgb\\(${G},${G},${G}\\)$`),Sa=new RegExp(`^rgba\\(${lt},${lt},${lt},${$t}\\)$`),Ca=new RegExp(`^rgba\\(${G},${G},${G},${$t}\\)$`),Ea=new RegExp(`^hsl\\(${$t},${G},${G}\\)$`),Ta=new RegExp(`^hsla\\(${$t},${G},${G},${$t}\\)$`),Zn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};In(St,at,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Qn,formatHex:Qn,formatHex8:Ra,formatHsl:Pa,formatRgb:Jn,toString:Jn});function Qn(){return this.rgb().formatHex()}function Ra(){return this.rgb().formatHex8()}function Pa(){return Ye(this).formatHsl()}function Jn(){return this.rgb().formatRgb()}function at(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Aa.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?jn(n):e===3?new q(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Rt(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Rt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Ma.exec(t))?new q(n[1],n[2],n[3],1):(n=Na.exec(t))?new q(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Sa.exec(t))?Rt(n[1],n[2],n[3],n[4]):(n=Ca.exec(t))?Rt(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Ea.exec(t))?ee(n[1],n[2]/100,n[3]/100,1):(n=Ta.exec(t))?ee(n[1],n[2]/100,n[3]/100,n[4]):Zn.hasOwnProperty(t)?jn(Zn[t]):t==="transparent"?new q(NaN,NaN,NaN,0):null}function jn(t){return new q(t>>16&255,t>>8&255,t&255,1)}function Rt(t,n,e,r){return r<=0&&(t=n=e=NaN),new q(t,n,e,r)}function Ia(t){return t instanceof St||(t=at(t)),t?(t=t.rgb(),new q(t.r,t.g,t.b,t.opacity)):new q}function wn(t,n,e,r){return arguments.length===1?Ia(t):new q(t,n,e,r??1)}function q(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}In(q,wn,Be(St,{brighter(t){return t=t==null?Ut:Math.pow(Ut,t),new q(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bt:Math.pow(bt,t),new q(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new q(it(this.r),it(this.g),it(this.b),Gt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:te,formatHex:te,formatHex8:Fa,formatRgb:ne,toString:ne}));function te(){return`#${rt(this.r)}${rt(this.g)}${rt(this.b)}`}function Fa(){return`#${rt(this.r)}${rt(this.g)}${rt(this.b)}${rt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ne(){const t=Gt(this.opacity);return`${t===1?"rgb(":"rgba("}${it(this.r)}, ${it(this.g)}, ${it(this.b)}${t===1?")":`, ${t})`}`}function Gt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function it(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rt(t){return t=it(t),(t<16?"0":"")+t.toString(16)}function ee(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new H(t,n,e,r)}function Ye(t){if(t instanceof H)return new H(t.h,t.s,t.l,t.opacity);if(t instanceof St||(t=at(t)),!t)return new H;if(t instanceof H)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,s=a-i,l=(a+i)/2;return s?(n===a?o=(e-r)/s+(e<r)*6:e===a?o=(r-n)/s+2:o=(n-e)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new H(o,s,l,t.opacity)}function qa(t,n,e,r){return arguments.length===1?Ye(t):new H(t,n,e,r??1)}function H(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}In(H,qa,Be(St,{brighter(t){return t=t==null?Ut:Math.pow(Ut,t),new H(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bt:Math.pow(bt,t),new H(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new q(pn(t>=240?t-240:t+120,i,r),pn(t,i,r),pn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new H(re(this.h),Pt(this.s),Pt(this.l),Gt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gt(this.opacity);return`${t===1?"hsl(":"hsla("}${re(this.h)}, ${Pt(this.s)*100}%, ${Pt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function re(t){return t=(t||0)%360,t<0?t+360:t}function Pt(t){return Math.max(0,Math.min(1,t||0))}function pn(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Fn=t=>()=>t;function Da(t,n){return function(e){return t+e*n}}function Oa(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function za(t){return(t=+t)==1?Ue:function(n,e){return e-n?Oa(n,e,t):Fn(isNaN(n)?e:n)}}function Ue(t,n){var e=n-t;return e?Da(t,e):Fn(isNaN(t)?n:t)}const Kt=function t(n){var e=za(n);function r(i,a){var o=e((i=wn(i)).r,(a=wn(a)).r),s=e(i.g,a.g),l=e(i.b,a.b),u=Ue(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function La(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=t[i]*(1-a)+n[i]*a;return r}}function Xa(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ha(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=qn(t[o],n[o]);for(;o<e;++o)a[o]=n[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Va(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function X(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Ba(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=qn(t[i],n[i]):r[i]=n[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var xn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gn=new RegExp(xn.source,"g");function Ya(t){return function(){return t}}function Ua(t){return function(n){return t(n)+""}}function Ge(t,n){var e=xn.lastIndex=gn.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",n=n+"";(r=xn.exec(t))&&(i=gn.exec(n));)(a=i.index)>e&&(a=n.slice(e,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:X(r,i)})),e=gn.lastIndex;return e<n.length&&(a=n.slice(e),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Ua(l[0].x):Ya(n):(n=l.length,function(u){for(var c=0,h;c<n;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function qn(t,n){var e=typeof n,r;return n==null||e==="boolean"?Fn(n):(e==="number"?X:e==="string"?(r=at(n))?(n=r,Kt):Ge:n instanceof at?Kt:n instanceof Date?Va:Xa(n)?La:Array.isArray(n)?Ha:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Ba:X)(t,n)}function Ga(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var ie=180/Math.PI,bn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ke(t,n,e,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,l/=s),t*r<n*e&&(t=-t,n=-n,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*ie,skewX:Math.atan(l)*ie,scaleX:o,scaleY:s}}var It;function Ka(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?bn:Ke(n.a,n.b,n.c,n.d,n.e,n.f)}function Wa(t){return t==null||(It||(It=document.createElementNS("http://www.w3.org/2000/svg","g")),It.setAttribute("transform",t),!(t=It.transform.baseVal.consolidate()))?bn:(t=t.matrix,Ke(t.a,t.b,t.c,t.d,t.e,t.f))}function We(t,n,e,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,h,f,d,p){if(u!==h||c!==f){var m=d.push("translate(",null,n,null,e);p.push({i:m-4,x:X(u,h)},{i:m-2,x:X(c,f)})}else(h||f)&&d.push("translate("+h+n+f+e)}function o(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:X(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:X(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(u,c,h,f,d,p){if(u!==h||c!==f){var m=d.push(i(d)+"scale(",null,",",null,")");p.push({i:m-4,x:X(u,h)},{i:m-2,x:X(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),a(u.translateX,u.translateY,c.translateX,c.translateY,h,f),o(u.rotate,c.rotate,h,f),s(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(d){for(var p=-1,m=f.length,_;++p<m;)h[(_=f[p]).i]=_.x(d);return h.join("")}}}var Za=We(Ka,"px, ","px)","deg)"),Qa=We(Wa,", ",")",")"),dt=0,yt=0,gt=0,Ze=1e3,Wt,vt,Zt=0,ot=0,en=0,kt=typeof performance=="object"&&performance.now?performance:Date,Qe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Dn(){return ot||(Qe(Ja),ot=kt.now()+en)}function Ja(){ot=0}function Qt(){this._call=this._time=this._next=null}Qt.prototype=Je.prototype={constructor:Qt,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Dn():+e)+(n==null?0:+n),!this._next&&vt!==this&&(vt?vt._next=this:Wt=this,vt=this),this._call=t,this._time=e,$n()},stop:function(){this._call&&(this._call=null,this._time=1/0,$n())}};function Je(t,n,e){var r=new Qt;return r.restart(t,n,e),r}function ja(){Dn(),++dt;for(var t=Wt,n;t;)(n=ot-t._time)>=0&&t._call.call(void 0,n),t=t._next;--dt}function ae(){ot=(Zt=kt.now())+en,dt=yt=0;try{ja()}finally{dt=0,no(),ot=0}}function to(){var t=kt.now(),n=t-Zt;n>Ze&&(en-=n,Zt=t)}function no(){for(var t,n=Wt,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Wt=e);vt=t,$n(r)}function $n(t){if(!dt){yt&&(yt=clearTimeout(yt));var n=t-ot;n>24?(t<1/0&&(yt=setTimeout(ae,t-kt.now()-en)),gt&&(gt=clearInterval(gt))):(gt||(Zt=kt.now(),gt=setInterval(to,Ze)),dt=1,Qe(ae))}}function oe(t,n,e){var r=new Qt;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var eo=Te("start","end","cancel","interrupt"),ro=[],je=0,se=1,kn=2,zt=3,ue=4,An=5,Lt=6;function rn(t,n,e,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;io(t,e,{name:n,index:r,group:i,on:eo,tween:ro,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:je})}function On(t,n){var e=V(t,n);if(e.state>je)throw new Error("too late; already scheduled");return e}function K(t,n){var e=V(t,n);if(e.state>zt)throw new Error("too late; already running");return e}function V(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function io(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Je(a,0,e.time);function a(u){e.state=se,e.timer.restart(o,e.delay,e.time),e.delay<=u&&o(u-e.delay)}function o(u){var c,h,f,d;if(e.state!==se)return l();for(c in r)if(d=r[c],d.name===e.name){if(d.state===zt)return oe(o);d.state===ue?(d.state=Lt,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<n&&(d.state=Lt,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(oe(function(){e.state===zt&&(e.state=ue,e.timer.restart(s,e.delay,e.time),s(u))}),e.state=kn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===kn){for(e.state=zt,i=new Array(f=e.tween.length),c=0,h=-1;c<f;++c)(d=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=d);i.length=h+1}}function s(u){for(var c=u<e.duration?e.ease.call(null,u/e.duration):(e.timer.restart(l),e.state=An,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);e.state===An&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){e.state=Lt,e.timer.stop(),delete r[n];for(var u in r)return;delete t.__transition}}function ao(t,n){var e=t.__transition,r,i,a=!0,o;if(e){n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){a=!1;continue}i=r.state>kn&&r.state<An,r.state=Lt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[o]}a&&delete t.__transition}}function oo(t){return this.each(function(){ao(this,t)})}function so(t,n){var e,r;return function(){var i=K(this,t),a=i.tween;if(a!==e){r=e=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function uo(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=K(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:n,value:e},l=0,u=i.length;l<u;++l)if(i[l].name===n){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function lo(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=V(this.node(),e).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((n==null?so:uo)(e,t,n))}function zn(t,n,e){var r=t._id;return t.each(function(){var i=K(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return V(i,r).value[n]}}function tr(t,n){var e;return(typeof n=="number"?X:n instanceof at?Kt:(e=at(n))?(n=e,Kt):Ge)(t,n)}function co(t){return function(){this.removeAttribute(t)}}function fo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ho(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=n(r=o,e)}}function po(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=n(r=o,e)}}function go(t,n,e){var r,i,a;return function(){var o,s=e(this),l;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,s)))}}function mo(t,n,e){var r,i,a;return function(){var o,s=e(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,s)))}}function yo(t,n){var e=nn(t),r=e==="transform"?Qa:tr;return this.attrTween(t,typeof n=="function"?(e.local?mo:go)(e,r,zn(this,"attr."+t,n)):n==null?(e.local?fo:co)(e):(e.local?po:ho)(e,r,n))}function vo(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function _o(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function wo(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&_o(t,a)),e}return i._value=n,i}function xo(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&vo(t,a)),e}return i._value=n,i}function bo(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=nn(t);return this.tween(e,(r.local?wo:xo)(r,n))}function $o(t,n){return function(){On(this,t).delay=+n.apply(this,arguments)}}function ko(t,n){return n=+n,function(){On(this,t).delay=n}}function Ao(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?$o:ko)(n,t)):V(this.node(),n).delay}function Mo(t,n){return function(){K(this,t).duration=+n.apply(this,arguments)}}function No(t,n){return n=+n,function(){K(this,t).duration=n}}function So(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Mo:No)(n,t)):V(this.node(),n).duration}function Co(t,n){if(typeof n!="function")throw new Error;return function(){K(this,t).ease=n}}function Eo(t){var n=this._id;return arguments.length?this.each(Co(n,t)):V(this.node(),n).ease}function To(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;K(this,t).ease=e}}function Ro(t){if(typeof t!="function")throw new Error;return this.each(To(this._id,t))}function Po(t){typeof t!="function"&&(t=Ie(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new J(r,this._parents,this._name,this._id)}function Io(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=n[s],u=e[s],c=l.length,h=o[s]=new Array(c),f,d=0;d<c;++d)(f=l[d]||u[d])&&(h[d]=f);for(;s<r;++s)o[s]=n[s];return new J(o,this._parents,this._name,this._id)}function Fo(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function qo(t,n,e){var r,i,a=Fo(n)?On:K;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(n,e),o.on=i}}function Do(t,n){var e=this._id;return arguments.length<2?V(this.node(),e).on.on(t):this.each(qo(e,t,n))}function Oo(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function zo(){return this.on("end.remove",Oo(this._id))}function Lo(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Rn(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,u=a[o]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,rn(u[f],n,e,f,u,V(c,e)));return new J(a,this._parents,n,e)}function Xo(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Pe(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),d,p=V(c,e),m=0,_=f.length;m<_;++m)(d=f[m])&&rn(d,n,e,m,f,p);a.push(f),o.push(c)}return new J(a,o,n,e)}var Ho=Nt.prototype.constructor;function Vo(){return new Ho(this._groups,this._parents)}function Bo(t,n){var e,r,i;return function(){var a=ht(this,t),o=(this.style.removeProperty(t),ht(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}function nr(t){return function(){this.style.removeProperty(t)}}function Yo(t,n,e){var r,i=e+"",a;return function(){var o=ht(this,t);return o===i?null:o===r?a:a=n(r=o,e)}}function Uo(t,n,e){var r,i,a;return function(){var o=ht(this,t),s=e(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),ht(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,s))}}function Go(t,n){var e,r,i,a="style."+n,o="end."+a,s;return function(){var l=K(this,t),u=l.on,c=l.value[a]==null?s||(s=nr(n)):void 0;(u!==e||i!==c)&&(r=(e=u).copy()).on(o,i=c),l.on=r}}function Ko(t,n,e){var r=(t+="")=="transform"?Za:tr;return n==null?this.styleTween(t,Bo(t,r)).on("end.style."+t,nr(t)):typeof n=="function"?this.styleTween(t,Uo(t,r,zn(this,"style."+t,n))).each(Go(this._id,t)):this.styleTween(t,Yo(t,r,n),e).on("end.style."+t,null)}function Wo(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Zo(t,n,e){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Wo(t,o,e)),r}return a._value=n,a}function Qo(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Zo(t,n,e??""))}function Jo(t){return function(){this.textContent=t}}function jo(t){return function(){var n=t(this);this.textContent=n??""}}function ts(t){return this.tween("text",typeof t=="function"?jo(zn(this,"text",t)):Jo(t==null?"":t+""))}function ns(t){return function(n){this.textContent=t.call(this,n)}}function es(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&ns(i)),n}return r._value=t,r}function rs(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,es(t))}function is(){for(var t=this._name,n=this._id,e=er(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var c=V(l,n);rn(l,t,e,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new J(r,this._parents,t,e)}function as(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};e.each(function(){var u=K(this,r),c=u.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(l)),u.on=n}),i===0&&a()})}var os=0;function J(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function er(){return++os}var Q=Nt.prototype;J.prototype={constructor:J,select:Lo,selectAll:Xo,selectChild:Q.selectChild,selectChildren:Q.selectChildren,filter:Po,merge:Io,selection:Vo,transition:is,call:Q.call,nodes:Q.nodes,node:Q.node,size:Q.size,empty:Q.empty,each:Q.each,on:Do,attr:yo,attrTween:bo,style:Ko,styleTween:Qo,text:ts,textTween:rs,remove:zo,tween:lo,delay:Ao,duration:So,ease:Eo,easeVarying:Ro,end:as,[Symbol.iterator]:Q[Symbol.iterator]};function ss(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var us={time:null,delay:0,duration:250,ease:ss};function ls(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function cs(t){var n,e;t instanceof J?(n=t._id,t=t._name):(n=er(),(e=us).time=Dn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&rn(l,t,n,u,o,e||ls(l,n));return new J(r,this._parents,t,n)}Nt.prototype.interrupt=oo;Nt.prototype.transition=cs;const Mn=Math.PI,Nn=2*Mn,tt=1e-6,fs=Nn-tt;function rr(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function hs(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return rr;const e=10**n;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class ds{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?rr:hs(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,a,o){this._append`C${+n},${+e},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(n,e,r,i,a){if(n=+n,e=+e,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-n,u=i-e,c=o-n,h=s-e,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(f>tt)if(!(Math.abs(h*l-u*c)>tt)||!a)this._append`L${this._x1=n},${this._y1=e}`;else{let d=r-o,p=i-s,m=l*l+u*u,_=d*d+p*p,v=Math.sqrt(m),k=Math.sqrt(f),x=a*Math.tan((Mn-Math.acos((m+f-_)/(2*v*k)))/2),M=x/k,$=x/v;Math.abs(M-1)>tt&&this._append`L${n+M*c},${e+M*h}`,this._append`A${a},${a},0,0,${+(h*d>c*p)},${this._x1=n+$*l},${this._y1=e+$*u}`}}arc(n,e,r,i,a,o){if(n=+n,e=+e,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=n+s,c=e+l,h=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>tt||Math.abs(this._y1-c)>tt)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%Nn+Nn),f>fs?this._append`A${r},${r},0,1,${h},${n-s},${e-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:f>tt&&this._append`A${r},${r},0,${+(f>=Mn)},${h},${this._x1=n+r*Math.cos(a)},${this._y1=e+r*Math.sin(a)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ps(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jt(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function pt(t){return t=Jt(Math.abs(t)),t?t[1]:NaN}function gs(t,n){return function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}}function ms(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var ys=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jt(t){if(!(n=ys.exec(t)))throw new Error("invalid format: "+t);var n;return new Ln({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}jt.prototype=Ln.prototype;function Ln(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ln.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vs(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ir;function _s(t,n){var e=Jt(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(ir=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Jt(t,Math.max(0,n+a-1))[0]}function le(t,n){var e=Jt(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ce={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ps,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>le(t*100,n),r:le,s:_s,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fe(t){return t}var he=Array.prototype.map,de=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ws(t){var n=t.grouping===void 0||t.thousands===void 0?fe:gs(he.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?fe:ms(he.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=jt(h);var f=h.fill,d=h.align,p=h.sign,m=h.symbol,_=h.zero,v=h.width,k=h.comma,x=h.precision,M=h.trim,$=h.type;$==="n"?(k=!0,$="g"):ce[$]||(x===void 0&&(x=12),M=!0,$="g"),(_||f==="0"&&d==="=")&&(_=!0,f="0",d="=");var N=m==="$"?e:m==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",S=m==="$"?r:/[%p]/.test($)?o:"",T=ce[$],C=/[defgprs%]/.test($);x=x===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function w(y){var b=N,g=S,A,B,W;if($==="c")g=T(y)+g,y="";else{y=+y;var z=y<0||1/y<0;if(y=isNaN(y)?l:T(Math.abs(y),x),M&&(y=vs(y)),z&&+y==0&&p!=="+"&&(z=!1),b=(z?p==="("?p:s:p==="-"||p==="("?"":p)+b,g=($==="s"?de[8+ir/3]:"")+g+(z&&p==="("?")":""),C){for(A=-1,B=y.length;++A<B;)if(W=y.charCodeAt(A),48>W||W>57){g=(W===46?i+y.slice(A+1):y.slice(A))+g,y=y.slice(0,A);break}}}k&&!_&&(y=n(y,1/0));var L=b.length+y.length+g.length,I=L<v?new Array(v-L+1).join(f):"";switch(k&&_&&(y=n(I+y,I.length?v-g.length:1/0),I=""),d){case"<":y=b+y+g+I;break;case"=":y=b+I+y+g;break;case"^":y=I.slice(0,L=I.length>>1)+b+y+g+I.slice(L);break;default:y=I+b+y+g;break}return a(y)}return w.toString=function(){return h+""},w}function c(h,f){var d=u((h=jt(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(pt(f)/3)))*3,m=Math.pow(10,-p),_=de[8+p/3];return function(v){return d(m*v)+_}}return{format:u,formatPrefix:c}}var Ft,ar,or;xs({thousands:",",grouping:[3],currency:["$",""]});function xs(t){return Ft=ws(t),ar=Ft.format,or=Ft.formatPrefix,Ft}function bs(t){return Math.max(0,-pt(Math.abs(t)))}function $s(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pt(n)/3)))*3-pt(Math.abs(t)))}function ks(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,pt(n)-pt(t))+1}function Xn(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}const pe=Symbol("implicit");function an(){var t=new Yn,n=[],e=[],r=pe;function i(a){let o=t.get(a);if(o===void 0){if(r!==pe)return r;t.set(a,o=n.push(a)-1)}return e[o%e.length]}return i.domain=function(a){if(!arguments.length)return n.slice();n=[],t=new Yn;for(const o of a)t.has(o)||t.set(o,n.push(o)-1);return i},i.range=function(a){return arguments.length?(e=Array.from(a),i):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return an(n,e).unknown(r)},Xn.apply(i,arguments),i}function sr(){var t=an().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var f=n().length,d=i<r,p=d?i:r,m=d?r:i;a=(m-p)/Math.max(1,f-l+u*2),s&&(a=Math.floor(a)),p+=(m-p-a*(f-l))*c,o=a*(1-l),s&&(p=Math.round(p),o=Math.round(o));var _=Ir(f).map(function(v){return p+a*v});return e(d?_.reverse():_)}return t.domain=function(f){return arguments.length?(n(f),h()):n()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return sr(n(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Xn.apply(h(),arguments)}function As(t){return function(){return t}}function Ms(t){return+t}var ge=[0,1];function st(t){return t}function Sn(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:As(isNaN(n)?NaN:.5)}function Ns(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function Ss(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=Sn(i,r),a=e(o,a)):(r=Sn(r,i),a=e(a,o)),function(s){return a(r(s))}}function Cs(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=Sn(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(s){var l=kr(t,s,1,r)-1;return a[l](i[l](s))}}function Es(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ts(){var t=ge,n=ge,e=qn,r,i,a,o=st,s,l,u;function c(){var f=Math.min(t.length,n.length);return o!==st&&(o=Ns(t[0],t[f-1])),s=f>2?Cs:Ss,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(l||(l=s(t.map(r),n,e)))(r(o(f)))}return h.invert=function(f){return o(i((u||(u=s(n,t.map(r),X)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Ms),c()):t.slice()},h.range=function(f){return arguments.length?(n=Array.from(f),c()):n.slice()},h.rangeRound=function(f){return n=Array.from(f),e=Ga,c()},h.clamp=function(f){return arguments.length?(o=f?!0:st,c()):o!==st},h.interpolate=function(f){return arguments.length?(e=f,c()):e},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,d){return r=f,i=d,c()}}function Rs(){return Ts()(st,st)}function Ps(t,n,e,r){var i=Rr(t,n,e),a;switch(r=jt(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(a=$s(i,o))&&(r.precision=a),or(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ks(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=bs(i))&&(r.precision=a-(r.type==="%")*2);break}}return ar(r)}function Is(t){var n=t.domain;return t.ticks=function(e){var r=n();return Tr(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return Ps(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=yn(o,s,e),u===l)return r[i]=o,r[a]=s,n(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function ur(){var t=Rs();return t.copy=function(){return Es(t,ur())},Xn.apply(t,arguments),Is(t)}function Fs(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const qs=Fs("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function E(t){return function(){return t}}const me=Math.abs,P=Math.atan2,j=Math.cos,Ds=Math.max,mn=Math.min,Y=Math.sin,ut=Math.sqrt,F=1e-12,At=Math.PI,tn=At/2,Xt=2*At;function Os(t){return t>1?0:t<-1?At:Math.acos(t)}function ye(t){return t>=1?tn:t<=-1?-tn:Math.asin(t)}function zs(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new ds(n)}function Ls(t){return t.innerRadius}function Xs(t){return t.outerRadius}function Hs(t){return t.startAngle}function Vs(t){return t.endAngle}function Bs(t){return t&&t.padAngle}function Ys(t,n,e,r,i,a,o,s){var l=e-t,u=r-n,c=o-i,h=s-a,f=h*l-c*u;if(!(f*f<F))return f=(c*(n-a)-h*(t-i))/f,[t+f*l,n+f*u]}function qt(t,n,e,r,i,a,o){var s=t-e,l=n-r,u=(o?a:-a)/ut(s*s+l*l),c=u*l,h=-u*s,f=t+c,d=n+h,p=e+c,m=r+h,_=(f+p)/2,v=(d+m)/2,k=p-f,x=m-d,M=k*k+x*x,$=i-a,N=f*m-p*d,S=(x<0?-1:1)*ut(Ds(0,$*$*M-N*N)),T=(N*x-k*S)/M,C=(-N*k-x*S)/M,w=(N*x+k*S)/M,y=(-N*k+x*S)/M,b=T-_,g=C-v,A=w-_,B=y-v;return b*b+g*g>A*A+B*B&&(T=w,C=y),{cx:T,cy:C,x01:-c,y01:-h,x11:T*(i/$-1),y11:C*(i/$-1)}}function ve(){var t=Ls,n=Xs,e=E(0),r=null,i=Hs,a=Vs,o=Bs,s=null,l=zs(u);function u(){var c,h,f=+t.apply(this,arguments),d=+n.apply(this,arguments),p=i.apply(this,arguments)-tn,m=a.apply(this,arguments)-tn,_=me(m-p),v=m>p;if(s||(s=c=l()),d<f&&(h=d,d=f,f=h),!(d>F))s.moveTo(0,0);else if(_>Xt-F)s.moveTo(d*j(p),d*Y(p)),s.arc(0,0,d,p,m,!v),f>F&&(s.moveTo(f*j(m),f*Y(m)),s.arc(0,0,f,m,p,v));else{var k=p,x=m,M=p,$=m,N=_,S=_,T=o.apply(this,arguments)/2,C=T>F&&(r?+r.apply(this,arguments):ut(f*f+d*d)),w=mn(me(d-f)/2,+e.apply(this,arguments)),y=w,b=w,g,A;if(C>F){var B=ye(C/f*Y(T)),W=ye(C/d*Y(T));(N-=B*2)>F?(B*=v?1:-1,M+=B,$-=B):(N=0,M=$=(p+m)/2),(S-=W*2)>F?(W*=v?1:-1,k+=W,x-=W):(S=0,k=x=(p+m)/2)}var z=d*j(k),L=d*Y(k),I=f*j($),Ct=f*Y($);if(w>F){var Et=d*j(x),Tt=d*Y(x),on=f*j(M),sn=f*Y(M),Z;if(_<At)if(Z=Ys(z,L,on,sn,Et,Tt,I,Ct)){var un=z-Z[0],ln=L-Z[1],cn=Et-Z[0],fn=Tt-Z[1],Hn=1/Y(Os((un*cn+ln*fn)/(ut(un*un+ln*ln)*ut(cn*cn+fn*fn)))/2),Vn=ut(Z[0]*Z[0]+Z[1]*Z[1]);y=mn(w,(f-Vn)/(Hn-1)),b=mn(w,(d-Vn)/(Hn+1))}else y=b=0}S>F?b>F?(g=qt(on,sn,z,L,d,b,v),A=qt(Et,Tt,I,Ct,d,b,v),s.moveTo(g.cx+g.x01,g.cy+g.y01),b<w?s.arc(g.cx,g.cy,b,P(g.y01,g.x01),P(A.y01,A.x01),!v):(s.arc(g.cx,g.cy,b,P(g.y01,g.x01),P(g.y11,g.x11),!v),s.arc(0,0,d,P(g.cy+g.y11,g.cx+g.x11),P(A.cy+A.y11,A.cx+A.x11),!v),s.arc(A.cx,A.cy,b,P(A.y11,A.x11),P(A.y01,A.x01),!v))):(s.moveTo(z,L),s.arc(0,0,d,k,x,!v)):s.moveTo(z,L),!(f>F)||!(N>F)?s.lineTo(I,Ct):y>F?(g=qt(I,Ct,Et,Tt,f,-y,v),A=qt(z,L,on,sn,f,-y,v),s.lineTo(g.cx+g.x01,g.cy+g.y01),y<w?s.arc(g.cx,g.cy,y,P(g.y01,g.x01),P(A.y01,A.x01),!v):(s.arc(g.cx,g.cy,y,P(g.y01,g.x01),P(g.y11,g.x11),!v),s.arc(0,0,f,P(g.cy+g.y11,g.cx+g.x11),P(A.cy+A.y11,A.cx+A.x11),v),s.arc(A.cx,A.cy,y,P(A.y11,A.x11),P(A.y01,A.x01),!v))):s.arc(0,0,f,$,M,v)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-At/2;return[j(h)*c,Y(h)*c]},u.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:E(+c),u):t},u.outerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:E(+c),u):n},u.cornerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:E(+c),u):e},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:E(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:E(+c),u):i},u.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:E(+c),u):a},u.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:E(+c),u):o},u.context=function(c){return arguments.length?(s=c??null,u):s},u}function lr(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Us(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function Gs(t){return t}function Ks(){var t=Gs,n=Us,e=null,r=E(0),i=E(Xt),a=E(0);function o(s){var l,u=(s=lr(s)).length,c,h,f=0,d=new Array(u),p=new Array(u),m=+r.apply(this,arguments),_=Math.min(Xt,Math.max(-Xt,i.apply(this,arguments)-m)),v,k=Math.min(Math.abs(_)/u,a.apply(this,arguments)),x=k*(_<0?-1:1),M;for(l=0;l<u;++l)(M=p[d[l]=l]=+t(s[l],l,s))>0&&(f+=M);for(n!=null?d.sort(function($,N){return n(p[$],p[N])}):e!=null&&d.sort(function($,N){return e(s[$],s[N])}),l=0,h=f?(_-u*x)/f:0;l<u;++l,m=v)c=d[l],M=p[c],v=m+(M>0?M*h:0)+x,p[c]={data:s[c],index:l,value:M,startAngle:m,endAngle:v,padAngle:k};return p}return o.value=function(s){return arguments.length?(t=typeof s=="function"?s:E(+s),o):t},o.sortValues=function(s){return arguments.length?(n=s,e=null,o):n},o.sort=function(s){return arguments.length?(e=s,n=null,o):e},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:E(+s),o):r},o.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:E(+s),o):i},o.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:E(+s),o):a},o}function _e(t,n){if((o=t.length)>1)for(var e=1,r,i,a=t[n[0]],o,s=a.length;e<o;++e)for(i=a,a=t[n[e]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function we(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function Ws(t,n){return t[n]}function Zs(t){const n=[];return n.key=t,n}function Qs(){var t=E([]),n=we,e=_e,r=Ws;function i(a){var o=Array.from(t.apply(this,arguments),Zs),s,l=o.length,u=-1,c;for(const h of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(h,o[s].key,u,a)]).data=h;for(s=0,c=lr(n(o));s<l;++s)o[c[s]].index=s;return e(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:E(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:E(+a),i):r},i.order=function(a){return arguments.length?(n=a==null?we:typeof a=="function"?a:E(Array.from(a)),i):n},i.offset=function(a){return arguments.length?(e=a??_e,i):e},i}function _t(t,n,e){this.k=t,this.x=n,this.y=e}_t.prototype={constructor:_t,scale:function(t){return t===1?this:new _t(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new _t(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};_t.prototype;var Js=Mt('<div class="chart-container svelte-c6e8in"><h3 style="margin-top: 0rem;" class="chart-title svelte-c6e8in"> </h3> <div class="chart-svg"></div> <div class="legend-container svelte-c6e8in"></div></div>');function xe(t,n){Cn(n,!1);let e=Ht(n,"data",24,()=>({})),r=Ht(n,"title",8,""),i=ct(),a=ct(),o,s=null;async function l(){if(!e()||Object.keys(e()).length===0)return;await cr(),O(R(i)).selectAll("*").remove(),O(R(a)).selectAll("*").remove();const p=300,m=300,_=20,v=Math.min(p,m)/2-_,k=an(qs),M=Ks().value(b=>b[1])(Object.entries(e())),$=ve().innerRadius(0).outerRadius(v),N=ve().innerRadius(0).outerRadius(v*1.1),S=O(R(i)).append("svg").attr("width",p+_*2).attr("height",m+_*2).attr("viewBox",`-${p/2+_} -${m/2+_} ${p+_*2} ${m+_*2}`).attr("preserveAspectRatio","xMidYMid meet").style("overflow","visible").append("g").attr("transform","translate(0, 0)");o=O("body").append("div").attr("class","tooltip").style("opacity",0);const T=S.selectAll("path").data(M).enter().append("path").attr("d",$).attr("fill",b=>k(b.data[0])).attr("stroke","#fff").style("stroke-width","2px").style("cursor","pointer").on("mouseover",function(b,g){O(this).transition().duration(200).attr("d",N),o.transition().duration(200).style("opacity",1),o.html(`<strong>${g.data[0]}</strong>: ${g.data[1]} (${(g.data[1]/Fr(Object.values(e()))*100).toFixed(1)}%)`).style("left",`${b.pageX+10}px`).style("top",`${b.pageY-20}px`)}).on("mouseout",function(){O(this).transition().duration(200).attr("d",$),o.transition().duration(200).style("opacity",0)}).on("click",function(b,g){s=s===g.index?null:g.index,y()}),w=O(R(a)).append("div").attr("class","legend").selectAll(".legend-item").data(Object.entries(e())).enter().append("div").attr("class","legend-item").on("click",function(b,g,A){s=s===A?null:A,y()});w.append("span").attr("class","legend-color").style("background-color",b=>k(b[0])),w.append("span").attr("class","legend-text").text(b=>`${b[0]}: ${b[1]}`);function y(){T.style("opacity",(b,g)=>s===null||s===g?1:.3),w.style("opacity",(b,g)=>s===null||s===g?1:.3)}}$e(()=>Me(e()),()=>{e()&&Object.keys(e()).length>0&&l()}),ke(),Tn();var u=Js(),c=nt(u),h=nt(c,!0);et(c);var f=U(c,2);Vt(f,p=>ft(i,p),()=>R(i));var d=U(f,2);Vt(d,p=>ft(a,p),()=>R(a)),et(u),Ae(()=>mr(h,r())),wt(t,u),En()}var js=Mt('<div class="chart-wrapper svelte-1g41zm7"><div class="chart-svg"></div> <div class="legend-container"></div></div>');function tu(t,n){Cn(n,!1);let e=Ht(n,"data",24,()=>({})),r=Ht(n,"title",8,""),i=ct(),a=ct();Ne(()=>{!e()||Object.keys(e()).length===0||o()});function o(){O(R(i)).selectAll("*").remove(),O(R(a)).html("");const c=700,h=400,f={top:40,right:30,bottom:120,left:80},d=Object.keys(e()),p=["Negative","Positive","Uncertain"],m=d.map(w=>({condition:w,...e()[w]})),_=sr().domain(d).range([0,c]).padding(.3),v=ur().domain([0,Pr(m,w=>w.Positive+w.Negative+w.Uncertain)]).nice().range([h,0]),k=an().domain(p).range(["#1f77b4","#ff7f0e","#2ca02c"]),x=O(R(i)).append("svg").attr("width",c+f.left+f.right).attr("height",h+f.top+f.bottom).append("g").attr("transform",`translate(${f.left},${f.top})`),$=Qs().keys(p)(m),N=O("body").append("div").attr("class","tooltip").style("opacity",0);x.selectAll("g.layer").data($).enter().append("g").attr("class","layer").attr("fill",w=>k(w.key)).selectAll("rect").data(w=>w).enter().append("rect").attr("x",w=>_(w.data.condition)).attr("y",w=>v(w[1])).attr("height",w=>v(w[0])-v(w[1])).attr("width",_.bandwidth()).on("mouseover",function(w,y){N.transition().duration(200).style("opacity",1),N.html(`${y.data.condition} - ${O(this.parentNode).datum().key}: ${y[1]-y[0]}`).style("left",`${w.pageX+10}px`).style("top",`${w.pageY-20}px`)}).on("mouseout",function(){N.transition().duration(200).style("opacity",0)}),x.append("g").attr("transform",`translate(0,${h})`).call(Hr(_)).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end"),x.append("g").call(Vr(v)),x.append("text").attr("text-anchor","middle").attr("x",c/2).attr("y",-10).text(r()).style("font-size","16px").style("font-weight","bold");const C=x.append("g").attr("class","legend").attr("transform",`translate(${c/2-170}, ${h+80})`).selectAll(".legend-item").data(p).enter().append("g").attr("class","legend-item").attr("transform",(w,y)=>`translate(${y*120}, 0)`);C.append("rect").attr("width",15).attr("height",15).attr("fill",w=>k(w)),C.append("text").attr("x",20).attr("y",12).text(w=>w).style("font-size","12px").attr("alignment-baseline","middle")}$e(()=>Me(e()),()=>{e()&&Object.keys(e()).length>0&&o()}),ke(),Tn();var s=js(),l=nt(s);Vt(l,c=>ft(i,c),()=>R(i));var u=U(l,2);Vt(u,c=>ft(a,c),()=>R(a)),et(s),wt(t,s),En()}var nu=Mt('<div class="chart-row svelte-xsq1mf"><!> <!></div> <div class="dataset-toggle svelte-xsq1mf"><label for="datasetSelector">Select Dataset:</label> <select id="datasetSelector" class="svelte-xsq1mf"><option>Filtered Dataset (Frontal AP only)</option><option>Original Dataset</option></select></div> <!>',1),eu=Mt("<p>Loading data...</p>"),ru=Mt('<section id="dataset"><h1>Dataset and Features</h1></section> <section id="overview"><h2>Overview</h2> <p>The CheXpert dataset is a large-scale collection of 224,316 chest X-ray images from 65,240 patients, designed to aid in automated radiographic interpretation. Chest X-ray diagnosis is often challenging, even for expert radiologists, due to the complexity of pathological patterns. Our goal is to analyze uncertainty in classification models by examining factors such as image resolution and quality.</p> <p>For this study, we use a 90GB subset of the dataset to balance computational feasibility with model performance. This subset contains images labeled using CheXbert, a BERT-based natural language processing model, while validation and test sets use radiologist-labeled data, ensuring a strong ground truth comparison.</p> <section id="dataset-composition"><h2>Dataset Composition</h2> <p style="margin-bottom: 1rem;">The dataset is divided into three primary subsets:</p> <ul><li>Training Data: Labeled using the CheXbert NLP model</li> <li>Validation Data: Labeled by three board-certified radiologists</li> <li>Test Data: Labeled by five board-certified radiologists</li></ul> <p style="margin-top: 1.5rem; margin-bottom: 1rem" m="">Link to dataset sources:</p> <ul><li><a href="https://stanfordaimi.azurewebsites.net/datasets/8cbd9ed4-2eb9-4565-affc-111cf4f7ebe2">CheXpert (Training & Validation Data)</a></li> <li><a href="https://stanfordaimi.azurewebsites.net/datasets/8cbd9ed4-2eb9-4565-affc-111cf4f7ebe2">CheXlocalize (Test Data)</a></li></ul></section> <section id="image-characteristics"><h2>Image Characteristics</h2> <p>Frontal vs. Lateral Views: The dataset contains predominantly frontal chest X-rays, as they are the clinical standard for diagnosis. Lateral views were excluded to maintain consistency.</p> <p style="margin-bottom: 1rem;"><b>AP vs PA Views:</b></p> <ul><li><b>Anteroposterior (AP) views</b> are taken when a patient is lying down or unable to stand.</li> <li><b>Posteroanterior (PA) views</b> are the preferred clinical standard but are less frequent in the dataset due to the hospital-based nature of CheXpert.</li></ul></section> <!></section> <section id="preprocessing"><h2>Preprocessing Steps</h2> <p style="margin-bottom: 1rem;">To standardize and clean the dataset, we applied the following steps:</p> <ol><li>Resizing all images to a uniform resolution (three versions: 224×224, 384×384, 512×512).</li> <li>Handling missing values: Since the dataset uses "N/A" to indicate conditions not mentioned in radiology reports, we map them to negative labels (assuming no mention implies absence).</li> <li>Filtering out low-quality images: Images with severe artifacts, extreme distortions, or blank scans were removed.</li></ol></section> <section id="eda"><h2>Exploratory Data Analysis (EDA)</h2> <p style="margin-bottom: 1rem;">To standardize and clean the dataset, we applied the following steps:</p> <ol><li>Resizing all images to a uniform resolution (three versions: 224×224, 384×384, 512×512).</li> <li>Handling missing values: Since the dataset uses "N/A" to indicate conditions not mentioned in radiology reports, we map them to negative labels (assuming no mention implies absence).</li> <li>Filtering out low-quality images: Images with severe artifacts, extreme distortions, or blank scans were removed.</li></ol></section> <section id="success-criteria"><h2>Success Criteria</h2> <p>To quantify success, we will mainly utilize certain common machine learning metrics. We will analyze the accuracy of the models, both overall, but also between the different classes to identify any classes that the models struggle with. Considering this task involves automated diagnosis of serious pathological conditions, we will also analyze the sensitivity (true positive rate) and the specificity (true negative rate) of the models. As we wish to analyze the rate of uncertainty, we will also examine the fraction of instances either misclassified, or classified into the “Uncertain” class. With these metrics, we hope to identify both which classes the models struggle with the most, as well as any common sources of confusion found within the images themselves.</p></section> <aside><div class="contents-header">On this page</div> <ul><li><a href="#overview">Overview</a></li> <li><a href="#dataset-composition">Dataset Composition</a></li> <li><a href="#image-characteristics">Image Characteristics</a></li> <li><a href="#preprocessing">Preprocessing Steps</a></li> <li><a href="#success-criteria">Success Criteria</a></li></ul></aside>',1);function gu(t,n){Cn(n,!1);let e=ct(null),r=ct("filtered");Ne(async()=>{try{const u=await fetch("/summary.json");ft(e,await u.json())}catch(u){console.error("Error loading summary.json:",u)}}),Tn();var i=ru(),a=U(Bn(i),2),o=U(nt(a),10);{var s=u=>{var c=nu(),h=Bn(c),f=nt(h);xe(f,{title:"Frontal vs Lateral",get data(){return R(e).view_distribution.original}});var d=U(f,2);xe(d,{title:"AP vs PA Projection",get data(){return R(e).projection_distribution.original}}),et(h);var p=U(h,2),m=U(nt(p),2);Ae(()=>{R(r),hr(()=>{})});var _=nt(m);_.value=(_.__value="filtered")==null?"":"filtered";var v=U(_);v.value=(v.__value="original")==null?"":"original",et(m),et(p);var k=U(p,2);tu(k,{title:"Label Distribution Per Condition",get data(){return R(e).label_distribution[R(r)]}}),vr(m,()=>R(r),x=>ft(r,x)),wt(u,c)},l=u=>{var c=eu();wt(u,c)};pr(o,u=>{R(e)?u(s):u(l,!1)})}et(a),fr(8),wt(t,i),En()}export{gu as component};
